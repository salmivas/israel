"use strict";!function(){if(document.querySelector(".faq")){var e=document.querySelectorAll(".faq__accordion-toggler"),t=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i],i)},n=function(e){e.classList.add("faq__accordion-toggler--closed"),e.parentElement.querySelector(".faq__accordion-description").hidden=!0};t(e,function(i){i.addEventListener("click",function(){if(i.classList.contains("faq__accordion-toggler--closed"))return t(e,function(e){n(e)}),(a=i).classList.remove("faq__accordion-toggler--closed"),void(a.parentElement.querySelector(".faq__accordion-description").hidden=!1);var a;n(i)}),n(i)})}}(),function(){var e=document.querySelector("body"),t=document.querySelector(".modal-feedback"),n=document.querySelector(".modal-accepted"),i=document.querySelector(".call-back"),a={LONG:"Escape",SHORT:"Esc"},s=function(e){var t;return window.masks.forEach(function(n){n.el.input===e&&(t=n.unmaskedValue)}),t},o=function(t,n){t.classList.remove(n),e.style.overflow="hidden"},c=function(t,n){t.classList.add(n),e.style.overflow=""},r=function(t,n,i){(t.key===a.LONG||t.key===a.SHORT)&&c(n,i),e.removeEventListener("keydown",r)},l=function(e,t){localStorage.clear(),localStorage.setItem("userData",JSON.stringify({userName:e,userPhone:t}))},d=function(){if(n){var t=n.querySelector(".modal-accepted__clear-button"),i=n.querySelector(".modal-accepted__cross-button"),a=n.classList[0].concat("--hidden");e.addEventListener("keydown",function(e){r(e,n,a)}),t.addEventListener("click",function(){c(n,a)}),i.addEventListener("click",function(){c(n,a)}),window.addEventListener("click",function(e){e.target===n&&c(n,a)}),o(n,a)}};if(t){var u=document.querySelector(".modal-feedback__container"),_=document.querySelector(".header__callback"),L=document.querySelector('.modal-feedback__form button[type="reset"]'),S=document.querySelector(".modal-feedback__form form"),m=document.getElementById("modal-feedback__user-name"),v=document.getElementById("modal-feedback__user-phone"),E=document.getElementById("modal-admission"),f=t.classList[0].concat("--hidden"),p=function(){u.style.animation="shake 0.8s",setTimeout(function(){u.style.animation=""},600)};_.addEventListener("click",function(){o(t,f),setTimeout(function(){m.focus()},500),e.addEventListener("keydown",function(e){r(e,t,f)})}),window.addEventListener("click",function(e){e.target===t&&c(t,f)}),L.addEventListener("click",function(){c(t,f)}),S.addEventListener("submit",function(e){e.preventDefault();var n=s(v);E.checked&&11===n.length?(l(m.value,v.value),window.upload.post(function(){c(t,f),d()},p,new FormData(S))):n.length<11&&C(v)})}var C=function(e){var t=e.parentElement,n=t.classList[0].concat("--invalid");t.classList.add(n)};if(i){var w=document.querySelector(".call-back form"),y=document.getElementById("call-back__user-phone");w.addEventListener("submit",function(e){e.preventDefault(),s(y).length<11?C(y):(l("",y.value),window.upload.post(d,null,new FormData(w)))})}}(),function(){var e=document.querySelectorAll('input[type="tel"]');window.masks=[];for(var t=function(e){var t,n=e.parentNode,i=n.classList[0].concat("--active"),a=n.classList[0].concat("--valid"),s=n.classList[0].concat("--invalid"),o=(t=e,new window.IMask(t,{mask:"+{7} (000) 000-00-00",lazy:!0}));return o.on("accept",function(){switch(e.parentNode.classList.add(i),e.parentNode.classList.contains(s)&&e.parentNode.classList.remove(s),!0){case 0===o.unmaskedValue.length:e.parentNode.classList.remove(i);break;case 11===o.unmaskedValue.length:e.parentNode.classList.add(a);break;case o.unmaskedValue.length<11&&e.parentNode.classList.contains(a):case o.unmaskedValue.length<11:e.parentNode.classList.remove(a)}}),o},n=0;n<e.length;n++)e[n]&&masks.push(t(e[n]))}(),function(){var e,t,n,i=document.querySelectorAll(".programs__names li"),a=document.querySelectorAll(".programs__descriptions li"),s=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i],i)},o=function(e){e&&s(e,function(e){e.classList.contains("visually-hidden")||e.classList.add("visually-hidden")})},c=function(e){e&&e.classList.contains("visually-hidden")&&e.classList.remove("visually-hidden")},r=function(e,t){e.classList.contains(t)||e.classList.add(t)};e=1,i&&a&&(o(a),n=e,(t=i)&&s(t,function(e){r(e,"programs__name"),r(t[n],"programs__name--checked")}),c(a[e]),s(i,function(e){e.addEventListener("click",function(){var e;(e=i)&&s(e,function(e){var t;(t=e).classList.contains("programs__name--checked")&&t.classList.remove("programs__name--checked")}),r(this,"programs__name--checked"),o(a),c(a[function(e){for(var t=0;null!=(e=e.previousSibling);)e.nodeType!=Node.TEXT_NODE&&t++;return t}(this)])})}))}(),function(){var e,t={Container:{CLASS:"activities__slider",SELECTOR:".activities__slider"},Wrapper:{CLASS:"activities__slider-list",SELECTOR:".activities__slider-list"},Slide:{CLASS:"activities__slider-item",SELECTOR:".activities__slider-item"},Pagination:{CLASS:"activities__slider-pagination",SELECTOR:".activities__slider-pagination"},BULLET_ELEMENT:"div",BULLET_CLASS:"activities__slider-bullet",BULLET_ACTIVE_CLASS:"activities__slider-bullet--active"},n={Container:{CLASS:"reviews__slider",SELECTOR:".reviews__slider"},Wrapper:{CLASS:"reviews__slider-list",SELECTOR:".reviews__slider-list"},Slide:{CLASS:"reviews__slider-item",SELECTOR:".reviews__slider-item"},Pagination:{CLASS:"reviews__slider-pagination",SELECTOR:".reviews__slider-pagination"},Navigation:{SLIDER_BUTTONS:".reviews_slider-buttons",NEXT_CLASS:".reviews__button-next",PREV_CLASS:".reviews__button-prev"},Fraction:{CURRENT_CLASS:"reviews__slider-pagination-current",TOTAL_CLASS:"reviews__slider-pagination-total"}},i={CONTAINER_INITIALIZED:"swiper-container-initialized",NO_SWIPING:"swiper-no-swiping"},a="visually-hidden",s=window.matchMedia("(max-width: 767px)"),o=document.querySelector(t.Container.SELECTOR),c=document.querySelector(t.Wrapper.SELECTOR),r=document.querySelector(n.Container.SELECTOR),l=document.querySelector(n.Wrapper.SELECTOR),d=document.querySelector(n.Navigation.SLIDER_BUTTONS),u=function(){s.matches&&!o.classList.contains(i.CONTAINER_INITIALIZED)?(c.style.flexWrap="nowrap",(e=new Swiper(t.Container.SELECTOR,{init:!1,spaceBetween:0,wrapperClass:t.Wrapper.CLASS,slideClass:t.Slide.CLASS,pagination:{el:t.Pagination.SELECTOR,bulletElement:t.BULLET_ELEMENT,bulletClass:t.BULLET_CLASS,bulletActiveClass:t.BULLET_ACTIVE_CLASS,type:"bullets",clickable:!1}})).init()):o.classList.contains(i.CONTAINER_INITIALIZED)&&!s.matches&&e.destroy()};r.classList.contains(i.CONTAINER_INITIALIZED)||(l.style.display="flex",l.style.flexWrap="nowrap",d.classList.remove(a),s.matches?r.classList.remove(i.NO_SWIPING):r.classList.add(i.NO_SWIPING),new Swiper(n.Container.SELECTOR,{init:!1,spaceBetween:0,initialSlide:2,wrapperClass:n.Wrapper.CLASS,slideClass:n.Slide.CLASS,pagination:{el:n.Pagination.SELECTOR,type:"fraction",currentClass:n.Fraction.CURRENT_CLASS,totalClass:n.Fraction.TOTAL_CLASS,clickable:!1},navigation:{nextEl:n.Navigation.NEXT_CLASS,prevEl:n.Navigation.PREV_CLASS}}).init()),u(),window.addEventListener("resize",function(){u(),s.matches?r.classList.remove(i.NO_SWIPING):r.classList.add(i.NO_SWIPING)})}(),function(){var e="POST";window.upload={post:function(t,n,i){var a=function(e,t){var n=new XMLHttpRequest;return n.responseType="json",n.addEventListener("load",function(){200===n.status?e(n.response):t()}),n}(t,n);a.open(e,"https://run.mocky.io/v3/64a5108f-2ae6-419d-ac3a-fa1129d1fab3"),a.send(i)}}}();