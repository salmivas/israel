"use strict";!function(){if(document.querySelector(".faq")){var e=document.querySelectorAll(".faq__accordion-toggler"),t=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i],i)},n=function(e){e.classList.add("faq__accordion-toggler--closed"),e.parentElement.querySelector(".faq__accordion-description").hidden=!0};t(e,function(i){i.addEventListener("click",function(){if(i.classList.contains("faq__accordion-toggler--closed"))return t(e,function(e){n(e)}),(a=i).classList.remove("faq__accordion-toggler--closed"),void(a.parentElement.querySelector(".faq__accordion-description").hidden=!1);var a;n(i)}),n(i)})}}(),function(){var e=document.querySelector("body"),t=document.querySelector(".modal-feedback"),n=document.querySelector(".modal-accepted"),i=document.querySelector(".call-back"),a=document.querySelector(".contacts"),s={LONG:"Escape",SHORT:"Esc"},c=function(e){var t;return window.masks.forEach(function(n){n.el.input===e&&(t=n.unmaskedValue)}),t},o=function(e){var t=e.parentElement,n=t.classList[0].concat("--invalid");t.classList.add(n)},r=function(t,n){t.classList.remove(n),e.style.overflow="hidden"},l=function(t,n){t.classList.add(n),e.style.overflow=""},d=function(t,n,i){(t.key===s.LONG||t.key===s.SHORT)&&l(n,i),e.removeEventListener("keydown",d)},u=function(e,t){localStorage.clear(),localStorage.setItem("userData",JSON.stringify({userName:e,userPhone:t}))},_=function(){if(n){var t=n.querySelector(".modal-accepted__clear-button"),i=n.querySelector(".modal-accepted__cross-button"),a=n.classList[0].concat("--hidden");e.addEventListener("keydown",function(e){d(e,n,a)}),t.addEventListener("click",function(){l(n,a)}),i.addEventListener("click",function(){l(n,a)}),window.addEventListener("click",function(e){e.target===n&&l(n,a)}),r(n,a)}},L=function(e,t){c(e).length<11?o(e):(u(t?t.value:null,e.value),window.upload.post(_,null,new FormData(N)))};if(t){var S=document.querySelector(".modal-feedback__container"),m=document.querySelector(".header__callback"),v=document.querySelector('.modal-feedback__form button[type="reset"]'),f=document.querySelector(".modal-feedback__form form"),E=document.getElementById("modal-feedback__user-name"),p=document.getElementById("modal-feedback__user-phone"),C=document.getElementById("modal-admission"),y=t.classList[0].concat("--hidden"),w=function(){S.style.animation="shake 0.8s",setTimeout(function(){S.style.animation=""},600)};m.addEventListener("click",function(){r(t,y),setTimeout(function(){E.focus()},500),e.addEventListener("keydown",function(e){d(e,t,y)})}),window.addEventListener("click",function(e){e.target===t&&l(t,y)}),v.addEventListener("click",function(){l(t,y)}),f.addEventListener("submit",function(e){e.preventDefault();var n=c(p);C.checked&&11===n.length?(u(E.value,p.value),window.upload.post(function(){l(t,y),_()},w,new FormData(f))):n.length<11&&o(p)})}if(i){var g=document.querySelector(".call-back form"),T=document.getElementById("call-back__user-phone");g.addEventListener("submit",function(e){e.preventDefault(),L(T)})}if(a){var N=document.querySelector(".contacts__call-back form"),k=document.getElementById("contacts__user-name"),I=document.getElementById("contacts__user-phone");N.addEventListener("submit",function(e){e.preventDefault(),L(I,k)})}}(),function(){var e=document.querySelectorAll('input[type="tel"]'),t=[];window.masks=t;for(var n=function(e){var t,n=e.parentNode,i=n.classList[0].concat("--active"),a=n.classList[0].concat("--valid"),s=n.classList[0].concat("--invalid"),c=(t=e,new window.IMask(t,{mask:"+{7} (000) 000-00-00",lazy:!0}));return c.on("accept",function(){switch(e.parentNode.classList.add(i),e.parentNode.classList.contains(s)&&e.parentNode.classList.remove(s),!0){case 0===c.unmaskedValue.length:e.parentNode.classList.remove(i);break;case 11===c.unmaskedValue.length:e.parentNode.classList.add(a);break;case c.unmaskedValue.length<11&&e.parentNode.classList.contains(a):case c.unmaskedValue.length<11:e.parentNode.classList.remove(a)}}),c},i=0;i<e.length;i++)e[i]&&t.push(n(e[i]))}(),function(){var e,t,n,i=document.querySelectorAll(".programs__names li"),a=document.querySelectorAll(".programs__descriptions li"),s=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i],i)},c=function(e){e&&s(e,function(e){e.classList.contains("visually-hidden")||e.classList.add("visually-hidden")})},o=function(e){e&&e.classList.contains("visually-hidden")&&e.classList.remove("visually-hidden")},r=function(e,t){e.classList.contains(t)||e.classList.add(t)};e=1,i&&a&&(c(a),n=e,(t=i)&&s(t,function(e){r(e,"programs__name"),r(t[n],"programs__name--checked")}),o(a[e]),s(i,function(e){e.addEventListener("click",function(){var t,n=e;(t=i)&&s(t,function(e){var t;(t=e).classList.contains("programs__name--checked")&&t.classList.remove("programs__name--checked")}),r(n,"programs__name--checked"),c(a),o(a[function(e){for(var t=0;null!==(e=e.previousSibling);)e.nodeType!==Node.TEXT_NODE&&t++;return t}(n)])})}))}(),function(){var e,t={Container:{CLASS:"activities__slider",SELECTOR:".activities__slider"},Wrapper:{CLASS:"activities__slider-list",SELECTOR:".activities__slider-list"},Slide:{CLASS:"activities__slider-item",SELECTOR:".activities__slider-item"},Pagination:{CLASS:"activities__slider-pagination",SELECTOR:".activities__slider-pagination"},BULLET_ELEMENT:"div",BULLET_CLASS:"activities__slider-bullet",BULLET_ACTIVE_CLASS:"activities__slider-bullet--active"},n={Container:{CLASS:"reviews__slider",SELECTOR:".reviews__slider"},Wrapper:{CLASS:"reviews__slider-list",SELECTOR:".reviews__slider-list"},Slide:{CLASS:"reviews__slider-item",SELECTOR:".reviews__slider-item"},Pagination:{CLASS:"reviews__slider-pagination",SELECTOR:".reviews__slider-pagination"},Navigation:{SLIDER_BUTTONS:".reviews_slider-buttons",NEXT_CLASS:".reviews__button-next",PREV_CLASS:".reviews__button-prev"},Fraction:{CURRENT_CLASS:"reviews__slider-pagination-current",TOTAL_CLASS:"reviews__slider-pagination-total"}},i={CONTAINER_INITIALIZED:"swiper-container-initialized",NO_SWIPING:"swiper-no-swiping"},a="visually-hidden",s=window.matchMedia("(max-width: 767px)"),c=document.querySelector(t.Container.SELECTOR),o=document.querySelector(t.Wrapper.SELECTOR),r=document.querySelector(n.Container.SELECTOR),l=document.querySelector(n.Wrapper.SELECTOR),d=document.querySelector(n.Navigation.SLIDER_BUTTONS),u=function(){s.matches&&!c.classList.contains(i.CONTAINER_INITIALIZED)?(o.style.flexWrap="nowrap",(e=new Swiper(t.Container.SELECTOR,{init:!1,spaceBetween:0,wrapperClass:t.Wrapper.CLASS,slideClass:t.Slide.CLASS,pagination:{el:t.Pagination.SELECTOR,bulletElement:t.BULLET_ELEMENT,bulletClass:t.BULLET_CLASS,bulletActiveClass:t.BULLET_ACTIVE_CLASS,type:"bullets",clickable:!1}})).init()):c.classList.contains(i.CONTAINER_INITIALIZED)&&!s.matches&&e.destroy()};r.classList.contains(i.CONTAINER_INITIALIZED)||(l.style.display="flex",l.style.flexWrap="nowrap",d.classList.remove(a),s.matches?r.classList.remove(i.NO_SWIPING):r.classList.add(i.NO_SWIPING),new Swiper(n.Container.SELECTOR,{init:!1,spaceBetween:0,initialSlide:2,wrapperClass:n.Wrapper.CLASS,slideClass:n.Slide.CLASS,pagination:{el:n.Pagination.SELECTOR,type:"fraction",currentClass:n.Fraction.CURRENT_CLASS,totalClass:n.Fraction.TOTAL_CLASS,clickable:!1},navigation:{nextEl:n.Navigation.NEXT_CLASS,prevEl:n.Navigation.PREV_CLASS}}).init()),u(),window.addEventListener("resize",function(){u(),s.matches?r.classList.remove(i.NO_SWIPING):r.classList.add(i.NO_SWIPING)})}(),function(){var e="POST";window.upload={post:function(t,n,i){var a=function(e,t){var n=new XMLHttpRequest;return n.responseType="json",n.addEventListener("load",function(){200===n.status?e(n.response):t()}),n}(t,n);a.open(e,"https://run.mocky.io/v3/64a5108f-2ae6-419d-ac3a-fa1129d1fab3"),a.send(i)}}}();